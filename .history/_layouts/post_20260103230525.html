---
layout: default
---

<div
  class="container animate-box"
  style="padding-top: 150px; padding-bottom: 100px"
>
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <article class="blog-post" style="position: relative">
        <!-- Magic Overlay -->
        <div id="magicOverlay" class="magic-overlay"></div>
        <button
          id="darkModeToggle"
          class="dark-mode-toggle"
          aria-label="Toggle Dark Mode"
        >
          <span class="icon-moon-wrapper"
            >{% include icons/moon.html size=20 %}</span
          >
          <span class="icon-sun-wrapper" style="display: none"
            >{% include icons/brightness-down.html size=20 %}</span
          >
        </button>

        <button
          id="translateToggle"
          class="translate-toggle"
          aria-label="Toggle Language"
        >
          {% include icons/globe.html size=20 %}
        </button>

        <header class="post-header text-center mb-5">
          <h1 class="post-title">{{ page.title }}</h1>
          <div class="post-meta">
            <span class="post-date">{{ page.date | date: "%B %d, %Y" }}</span>
            {% if page.tags %}
            <span class="post-tags">
              {% for tag in page.tags %}
              <span class="tag">#{{ tag }}</span>
              {% endfor %}
            </span>
            {% endif %}
          </div>
        </header>

        {% assign content_parts = content | split: "<!-- bn -->" %}
        <div class="post-content">
          <div id="content-en" class="lang-content fade-in">
            {{ content_parts[0] }}
          </div>
          <div
            id="content-bn"
            class="lang-content fade-in"
            style="display: none"
          >
            {{ content_parts[1] }}
          </div>
        </div>

        <div class="post-footer mt-5">
          <a
            href="{{ '/blog/' | relative_url }}"
            class="btn btn-primary btn-outline"
            ><i class="icon-arrow-left22"></i> Back to Blog</a
          >
        </div>
      </article>

      <!-- Custom Modal -->
      <div id="customModal" class="custom-modal">
        <div class="modal-content">
          <p class="modal-text">Bengali version coming soon!</p>
          <button id="modalOkBtn" class="modal-btn">OK</button>
        </div>
      </div>

      <script>
        const toggleBtn = document.getElementById("darkModeToggle");
        const translateBtn = document.getElementById("translateToggle");
        const body = document.body;
        // Icons
        const iconMoonWrapper = toggleBtn.querySelector(".icon-moon-wrapper");
        const iconSunWrapper = toggleBtn.querySelector(".icon-sun-wrapper");

        const contentEn = document.getElementById("content-en");
        const contentBn = document.getElementById("content-bn");
        const modal = document.getElementById("customModal");
        const modalBtn = document.getElementById("modalOkBtn");

        // Check local storage for Dark Mode
        if (localStorage.getItem("darkMode") === "enabled") {
          body.classList.add("dark-mode");
          iconMoonWrapper.style.display = "none";
          iconSunWrapper.style.display = "block";
        }

        toggleBtn.addEventListener("click", () => {
          body.classList.toggle("dark-mode");

          if (body.classList.contains("dark-mode")) {
            localStorage.setItem("darkMode", "enabled");
            iconMoonWrapper.style.display = "none";
            iconSunWrapper.style.display = "block";
          } else {
            localStorage.setItem("darkMode", "disabled");
            iconMoonWrapper.style.display = "block";
            iconSunWrapper.style.display = "none";
          }
        });

        // Modal Logic
        modalBtn.addEventListener("click", () => {
          modal.style.display = "none";
        });

        window.addEventListener("click", (e) => {
          if (e.target === modal) {
            modal.style.display = "none";
          }
        });

        // Translate Toggle Logic
        translateBtn.addEventListener("click", () => {
          // Trigger Magic Animation
          const magicOverlay = document.getElementById("magicOverlay");
          magicOverlay.classList.add("active");
          translateBtn.classList.add("ai-glow-active");

          // Wait for the "sweep" to cover the screen (approx 600ms)
          setTimeout(() => {
            // Toggle Content
            if (contentEn.style.display === "none") {
              contentEn.style.display = "block";
              contentBn.style.display = "none";
            } else {
              // Only switch if Bengali content exists
              if (contentBn.innerHTML.trim() !== "") {
                contentEn.style.display = "none";
                contentBn.style.display = "block";
              } else {
                // Show Custom Modal instead of Alert
                modal.style.display = "flex";
              }
            }
          }, 600); // Sync with animation peak

          // Cleanup after animation completes
          setTimeout(() => {
            magicOverlay.classList.remove("active");
            translateBtn.classList.remove("ai-glow-active");
          }, 1500); // Sync with animation duration
        });
      </script>
    </div>
  </div>
</div>
